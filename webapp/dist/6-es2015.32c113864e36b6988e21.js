(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"99Un":function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),c=n("tyNb"),o=n("5+WD"),r=n("xgIS"),s=n("XNiG"),a=n("gcYM"),l=n("fXoL"),d=n("PScX"),u=n("5jdD"),p=n("XNvx");let h=(()=>{class e{constructor(){this.transTreeDragEnd=new s.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=n("yW9e"),f=n("OzZK"),g=n("C2AL"),m=n("RwU8"),x=n("Nqz0"),v=n("FwiY"),y=n("Q8cG"),z=n("ifs9"),O=n("LRne"),k=n("yCtX"),w=n("DH7j"),C=n("7o/Q"),Z=n("l7GE"),M=n("ZUHj"),S=n("Lhse");class D{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new E(e,this.resultSelector))}}class E extends C.a{constructor(e,t,n=Object.create(null)){super(e),this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:null,this.values=n}_next(e){const t=this.iterators;Object(w.a)(e)?t.push(new T(e)):t.push("function"==typeof e[S.a]?new j(e[S.a]()):new R(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe(t,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let o=0;o<t;o++){let t=e[o];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const c=[];for(let o=0;o<t;o++){let t=e[o],r=t.next();if(t.hasCompleted()&&(i=!0),r.done)return void n.complete();c.push(r.value)}this.resultSelector?this._tryresultSelector(c):n.next(c),i&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class j{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return e&&e.done}}class T{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[S.a](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class R extends Z.a{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[S.a](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e,t,n,i,c){this.buffer.push(t),this.parent.checkIterators()}subscribe(e,t){return Object(M.a)(this,this.observable,this,t)}}var P=n("3E0/"),_=n("eIep"),N=n("pLZG"),I=n("nxWG"),L=n("PTRe"),G=n("3Pt+");const U=["treeDiv"],F=["nzTree"];function V(e,t){if(1&e){const e=l.bc();l.ac(0,"span",16),l.ic("contextmenu",(function(t){l.Fc(e);const n=l.mc(2),i=l.Cc(10);return n.contextMenu(t,i)})),l.ac(1,"i",17),l.ic("click",(function(){l.Fc(e);const t=l.mc().$implicit;return l.mc().openFolder(t)})),l.Zb(),l.ac(2,"span",18),l.Oc(3),l.Zb(),l.Zb()}if(2&e){const e=l.mc().$implicit;l.Eb(1),l.uc("nzType",e.isExpanded?"folder-open":"folder"),l.Eb(2),l.Pc(e.title)}}function $(e,t){if(1&e){const e=l.bc();l.ac(0,"span",16),l.ic("contextmenu",(function(t){l.Fc(e);const n=l.mc(2),i=l.Cc(10);return n.contextMenu(t,i)})),l.Vb(1,"i",19),l.ac(2,"span",20),l.Oc(3),l.Zb(),l.Zb()}if(2&e){const e=l.mc().$implicit;l.Eb(3),l.Pc(e.title)}}function B(e,t){if(1&e){const e=l.bc();l.ac(0,"div",9),l.ac(1,"div",10),l.ac(2,"span",11),l.Mc(3,V,4,2,"span",12),l.Mc(4,$,4,1,"span",12),l.Zb(),l.ac(5,"i",13),l.ic("click",(function(){l.Fc(e);const n=t.$implicit;return l.mc().startEdit(n.key)})),l.Zb(),l.ac(6,"i",14),l.ic("click",(function(){l.Fc(e);const n=t.$implicit;return l.mc().deleteNode(n.key)})),l.Zb(),l.Zb(),l.ac(7,"input",15),l.ic("ngModelChange",(function(n){return l.Fc(e),t.$implicit.title=n}))("blur",(function(){return l.Fc(e),l.mc().stopEdit()})),l.Zb(),l.Zb()}if(2&e){const e=t.$implicit,n=l.mc();l.uc("id",e.key),l.Eb(1),l.uc("hidden",n.editId===e.key),l.Eb(2),l.uc("ngIf",!e.isLeaf),l.Eb(1),l.uc("ngIf",e.isLeaf),l.Eb(3),l.uc("hidden",n.editId!==e.key)("ngModel",e.title)}}let K=(()=>{class e{constructor(e,t,n,i,c,o){this.nzContextMenuService=e,this.msgService=t,this.el=n,this.noteService=i,this.note2Service=c,this.render2=o,this.ddd=2323,this.nodes=[{title:"parent 0",key:"100",author:"NG ZORRO",expanded:!0,children:[{title:"leaf 0-0",key:"1000",author:"NG ZORRO",isLeaf:!0},{title:"leaf 0-1",key:"1001",author:"NG ZORRO",isLeaf:!0}]},{title:"parent 1",key:"101",author:"NG ZORRO",children:[{title:"leaf 1-0",key:"1010",author:"NG ZORRO",isLeaf:!0},{title:"leaf 1-1",key:"1011",author:"NG ZORRO",isLeaf:!0},{title:"leaf 1-2",key:"1012",author:"NG ZORRO",expanded:!0,children:[{title:"leaf 3-0",key:"1031",author:"NG ZORRO",isLeaf:!0},{title:"leaf 3-1",key:"1032",author:"NG ZORRO",isLeaf:!0}]}]}]}openFolder(e){if(e instanceof z.d)e.isExpanded=!e.isExpanded;else{const t=e.node;t&&(t.isExpanded=!t.isExpanded)}}activeNode(e){this.activatedNode=e.node}contextMenu(e,t){this.nzContextMenuService.create(e,t)}selectDropdown(){}ngOnInit(){}nzEvent(e){console.log(e)}startEdit(e){this.editId=e}stopEdit(){this.editId=null}addFile(){this.nodes=[...this.nodes,{title:"\u65b0\u589e"+this.ddd,key:""+this.ddd++,author:"NG ZORRO",children:[]}]}deleteNode(e){0!==this.nzTree.getTreeNodeByKey(e).level?(this.nzTree.getTreeNodeByKey(e).remove(),this.msgService.success("\u6e05\u9664\u6210\u529f")):this.msgService.warning("\u6839\u8282\u70b9\u6682\u65e0\u6743\u9650\u5220\u9664")}beforeDrop(e){return 0===e.pos?Object(O.a)(!0).pipe(Object(P.a)(1e3)):Object(O.a)(!1)}ngAfterViewInit(){const e=this.treeDiv.nativeElement;this.noteService.dragSubject.pipe(Object(_.a)(t=>function(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),Object(k.a)(e,void 0).lift(new D(t))}(Object(O.a)(t),Object(r.a)(e,"mouseup").pipe(Object(N.a)(e=>this.el.nativeElement.querySelector(".ant-tree .ant-tree-node-content-wrapper:hover")))))).subscribe(e=>{const t=this.el.nativeElement.querySelector(".ant-tree .ant-tree-node-content-wrapper:hover").children[0].id;this.nzTree.getTreeNodeByKey(t).addChildren([{title:e[0].name,key:this.ddd++,author:"NG ZORRO",isLeaf:!0}]),this.note2Service.transTreeDragEnd.next(e[0])})}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(x.a),l.Ub(d.e),l.Ub(l.l),l.Ub(u.a),l.Ub(h),l.Ub(l.F))},e.\u0275cmp=l.Ob({type:e,selectors:[["app-note2"]],viewQuery:function(e,t){var n;1&e&&(l.Kc(U,!0),l.Kc(F,!0)),2&e&&(l.Bc(n=l.jc())&&(t.treeDiv=n.first),l.Bc(n=l.jc())&&(t.nzTree=n.first))},decls:16,vars:3,consts:[["treeDiv",""],["nz-button","","nzType","dashed",2,"margin","12px 0",3,"nzSize","click"],["nz-icon","","nzType","file-add","nzTheme","outline"],["nzBlockNode","","nzDraggable","",2,"width","300px",3,"nzData","nzTreeTemplate","nzClick","nzDblClick","nzOnDrop"],["nzTree",""],["nzTreeTemplate",""],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],[2,"flex-grow","1",3,"id"],[2,"display","flex","justify-content","space-between","align-items","center",3,"hidden"],[1,"custom-node"],[3,"contextmenu",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline",2,"margin-left","auto","margin-right","12px",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"],["type","text","nz-input","",3,"hidden","ngModel","ngModelChange","blur"],[3,"contextmenu"],["nz-icon","",3,"nzType","click"],[1,"folder-name"],["nz-icon","","nzType","file"],[1,"file-name"]],template:function(e,t){if(1&e&&(l.ac(0,"div",null,0),l.ac(2,"button",1),l.ic("click",(function(){return t.addFile()})),l.Vb(3,"i",2),l.Oc(4," \u65b0\u5efa\u6587\u4ef6\u5939 "),l.Zb(),l.ac(5,"nz-tree",3,4),l.ic("nzClick",(function(e){return t.activeNode(e)}))("nzDblClick",(function(e){return t.openFolder(e)}))("nzOnDrop",(function(e){return t.nzEvent(e)})),l.Zb(),l.Mc(7,B,8,6,"ng-template",null,5,l.Nc),l.ac(9,"nz-dropdown-menu",null,6),l.ac(11,"ul",7),l.ac(12,"li",8),l.ic("click",(function(){return t.selectDropdown()})),l.Oc(13,"Action 1"),l.Zb(),l.ac(14,"li",8),l.ic("click",(function(){return t.selectDropdown()})),l.Oc(15,"Action 2"),l.Zb(),l.Zb(),l.Zb(),l.Zb()),2&e){const e=l.Cc(8);l.Eb(2),l.uc("nzSize","small"),l.Eb(3),l.uc("nzData",t.nodes)("nzTreeTemplate",e)}},directives:[f.a,m.a,g.a,v.b,I.a,x.e,y.c,y.d,i.l,L.b,G.d,G.l,G.o],styles:["nz-tree[_ngcontent-%COMP%]{overflow:hidden;margin:0 -24px;padding:0 24px}.custom-node[_ngcontent-%COMP%]{cursor:pointer;line-height:24px;margin-left:4px;display:inline-block}[_nghost-%COMP%]     .ant-tree .ant-tree-node-content-wrapper{flex-grow:1}.file-name[_ngcontent-%COMP%], .folder-name[_ngcontent-%COMP%]{margin-left:4px}.file-desc[_ngcontent-%COMP%], .folder-desc[_ngcontent-%COMP%]{padding:0 8px;display:inline-block;background:#87ceff;color:#fff;position:relative;left:12px}"]}),e})();var X=n("kmnG"),q=n("qFsG"),A=n("bTqV");const Q=["buttonEvent"];function W(e,t){if(1&e){const e=l.bc();l.ac(0,"div",16),l.ic("cdkDragStarted",(function(){l.Fc(e);const n=t.$implicit;return l.mc().dragStarted(n)})),l.Oc(1),l.Zb()}if(2&e){const e=t.$implicit;l.uc("cdkDragData",e),l.Eb(1),l.Pc(e.name)}}const H=[{path:"note",component:(()=>{class e{constructor(e,t,n,i,c){this.msgService=e,this.noteService=t,this.loginService=n,this.note2Service=i,this.route=c,this.keyEnter=Object(r.a)(window,"keyup.enter"),this.submitSubject=new s.a,this.destroy$=new s.a,this.fieldContent="",this.size="small",this.done=[{name:"Green2",expandable:!0,level:1},{name:"Green3",expandable:!0,level:1},{name:"Green4",expandable:!0,level:1},{name:"Green5",expandable:!0,level:1}]}drop(e){console.log("-------+++++"),e.previousContainer===e.container?Object(o.d)(e.container.data,e.previousIndex,e.currentIndex):Object(o.e)(e.previousContainer.data._data,e.container.data,e.previousIndex,e.currentIndex)}ngOnInit(){this.onTreeDragEnd()}dragStarted(e){this.noteService.dragSubject.next(e)}onTreeDragEnd(){this.note2Service.transTreeDragEnd.subscribe(e=>{this.done=this.done.filter(t=>t.name!==e.name)})}getMenuList(){this.noteService.getMenus().subscribe(e=>{console.log(e)})}getUser(){this.noteService.getUser().subscribe(e=>{401===e.code&&this.getUuid()})}getUuid(){this.noteService.getUuid().subscribe(e=>{this.noteService.uuidSubject.next(e.data.uuid),this.getMenuList()})}logout(){this.route.navigateByUrl("login"),this.noteService.uuidSubject.next(""),this.loginService.tokenSubject.next("")}submit(){this.submitSubject.next(this.fieldContent)}ngAfterViewInit(){this.submitSubject.pipe(Object(a.a)(500)).subscribe(e=>{this.done=[...this.done,{name:e,expandable:!0,level:1}],this.msgService.success("\u6dfb\u52a0\u6210\u529f")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(d.e),l.Ub(u.a),l.Ub(p.a),l.Ub(h),l.Ub(c.d))},e.\u0275cmp=l.Ob({type:e,selectors:[["app-note"]],viewQuery:function(e,t){var n;1&e&&l.Kc(Q,!0),2&e&&l.Bc(n=l.jc())&&(t.buttonEvent=n.first)},decls:28,vars:5,consts:[[2,"height","100%"],[2,"background-color","#fff","display","flex","justify-content","space-between"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-icon","","nzType","user"],["menu2","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],[2,"background-color","#fff"],[2,"padding-left","24px","margin-bottom","16px","overflow","scroll",3,"nzWidth"],[1,"example-container","flex",2,"justify-content","space-between","flex-direction","column","height","100%","display","flex","padding","0 24px"],["cdkDropList","",3,"cdkDropListData","cdkDropListDropped"],["doneList","cdkDropList"],["class","example-box","cdkDrag","",3,"cdkDragData","cdkDragStarted",4,"ngFor","ngForOf"],[2,"width","100%"],["matInput","",3,"ngModel","keyup.enter","ngModelChange"],["mat-button","","matSuffix","",2,"margin-bottom","6px",3,"click"],["cdkDrag","",1,"example-box",3,"cdkDragData","cdkDragStarted"]],template:function(e,t){if(1&e&&(l.ac(0,"nz-layout",0),l.ac(1,"nz-header",1),l.ac(2,"span"),l.Oc(3," \u7f51\u7edc\u8bb0\u4e8b\u672c "),l.Zb(),l.ac(4,"span"),l.ac(5,"nz-button-group"),l.ac(6,"button",2),l.Vb(7,"i",3),l.Zb(),l.Zb(),l.Zb(),l.ac(8,"nz-dropdown-menu",null,4),l.ac(10,"ul",5),l.ac(11,"li",6),l.ic("click",(function(){return t.logout()})),l.Oc(12," \u9000\u51fa"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(13,"nz-layout",7),l.ac(14,"nz-sider",8),l.Vb(15,"app-note2"),l.Zb(),l.ac(16,"nz-content"),l.ac(17,"div",9),l.ac(18,"div",10,11),l.ic("cdkDropListDropped",(function(e){return t.drop(e)})),l.Mc(20,W,2,2,"div",12),l.Zb(),l.ac(21,"div"),l.ac(22,"mat-form-field",13),l.ac(23,"mat-label"),l.Oc(24,"\u8f93\u5165"),l.Zb(),l.ac(25,"input",14),l.ic("keyup.enter",(function(){return t.submit()}))("ngModelChange",(function(e){return t.fieldContent=e})),l.Zb(),l.ac(26,"button",15),l.ic("click",(function(){return t.submit()})),l.Oc(27,"\u786e\u5b9a"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()),2&e){const e=l.Cc(9);l.Eb(6),l.uc("nzDropdownMenu",e),l.Eb(8),l.uc("nzWidth",300),l.Eb(4),l.uc("cdkDropListData",t.done),l.Eb(2),l.uc("ngForOf",t.done),l.Eb(5),l.uc("ngModel",t.fieldContent)}},directives:[b.c,b.b,f.b,g.a,f.a,m.a,x.d,x.b,v.b,x.e,y.c,y.d,b.e,K,b.a,o.b,i.k,X.c,X.f,q.b,G.d,G.l,G.o,A.a,X.g,o.a],styles:["nz-header[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0}nz-content[_ngcontent-%COMP%], nz-sider[_ngcontent-%COMP%]{background-color:#fff}nz-content[_ngcontent-%COMP%]{border-left:1px solid #f0f0f0}nz-layout[_ngcontent-%COMP%]:last-child{margin:0}.example-container[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{border:1px solid #ccc;min-height:60px;background:#fff;border-radius:4px;overflow:hidden;display:block}.flex[_ngcontent-%COMP%]{display:flex}.hidden[_ngcontent-%COMP%]{height:0!important;overflow:hidden}.example-box[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px;height:24px;line-height:24px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),e})()},{path:"note2",component:K},{path:"",redirectTo:"note",pathMatch:"full"}];let J=(()=>{class e{}return e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({factory:function(t){return new(t||e)},imports:[[c.g.forChild(H)],c.g]}),e})();var Y=n("zMeI"),ee=n("8yBR");n.d(t,"HomeModule",(function(){return te}));let te=(()=>{class e{}return e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({factory:function(t){return new(t||e)},imports:[[i.c,J,b.d,o.c,ee.a,Y.a]]}),e})()}}]);